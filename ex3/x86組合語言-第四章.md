# 第四章：指令集
在第三章中，我們講解了如何操作記憶體，而在這一章，我們會學習如何使用 x86 的指令集來操作數據。

## x86指令集概述
x86 指令集是一組指令的集合，用來告訴 CPU 要執行什麼操作。指令集中包含各種數據處理指令、流程控制指令、轉移指令等等，可以實現各種複雜的運算和邏輯控制。

在 x86 架構下，每個指令都有一個對應的操作碼（opcode），指示 CPU 執行的操作。指令碼通常是由幾個位元組組成，其中第一個位元組為操作碼，後面的位元組則是操作數。操作數可以是暫存器、記憶體地址或者立即值。

以下是一些常見的 x86 指令：

mov：將數據從一個位置複製到另一個位置
add/sub：對數據進行加法/減法操作
cmp：比較兩個值的大小
jmp：無條件跳轉到指定位置
jz/jnz：如果結果為零/非零，則跳轉到指定位置
call：呼叫一個子程序
ret：返回從子程序中呼叫的位置
數據處理指令
數據處理指令是最常用的指令之一，它可以對暫存器或記憶體中的數據進行加、減、乘、除等運算。以下是一些常見的數據處理指令：

add/sub：對暫存器或記憶體中的數據進行加法或減法操作
imul：對暫存器或記憶體中的數據進行乘法操作
idiv：對暫存器或記憶體中的數據進行除法操作
inc/dec：對暫存器或記憶體中的數據進行加1或減1操作
neg：對暫存器或記憶體中的數據進行取反操作
and/or/xor：對暫存器或記憶體中的數據進行位元邏輯
********
### 未完
********
## 流程控制指令
流程控制指令用於改變程式執行的順序，根據條件或跳轉地址，讓程式可以有彈性的跳轉到不同的位置。

條件分支指令
條件分支指令是根據條件執行不同的指令，通常使用CMP指令來比較兩個值，然後根據比較結果跳轉到不同的位置。

JZ和JNZ指令
JZ指令用於當比較結果為零時跳轉到指定位置，JNZ則相反，當比較結果不為零時跳轉到指定位置。例如：
```
MOV AX, 5
    CMP AX, 5
    JZ label1
    ; 如果AX不等於5，則跳轉到此處執行
    ...
label1:
    ; 如果AX等於5，則跳轉到此處執行
    ...
```

JG、JGE、JL、JLE、JE和JNE指令
JG、JGE、JL、JLE、JE和JNE指令用於執行大於、大於或等於、小於、小於或等於、等於、不等於等比較操作。例如：
```
MOV AX, 10
    CMP AX, 5
    JG label1
    ; 如果AX小於等於5，則跳轉到此處執行
    ...
label1:
    ; 如果AX大於5，則跳轉到此處執行
    ...
```

無條件跳轉指令
無條件跳轉指令是直接跳轉到指定的位置，不需要進行比較。常見的無條件跳轉指令有JMP和CALL。

JMP指令
JMP指令用於無條件跳轉到指定位置。例如：
```
JMP label1
    ; 跳轉到label1處執行
    ...
label1:
    ; 繼續執行
    ...
```

CALL指令
CALL指令用於呼叫一個子程序，也就是跳轉到子程序的起始位置並將控制權轉移給子程序。子程序執行完畢後，使用RET指令返回到CALL指令之後的指令繼續執行。

例如：
```
    CALL mysubroutine
    ; 呼叫mysubroutine子程序
    ...
mysubroutine:
    ; 子程序起始位置
    ...
    RET
    ; 返回到CALL指令之後繼
```

********
### 未完
********